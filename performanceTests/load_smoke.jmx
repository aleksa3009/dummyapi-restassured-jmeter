<?xml version="1.0"?>
<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.7">
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="DummyAPI Load Test Plan"
        enabled="true">
        <elementProp name="TestPlan.user_defined_variables" elementType="Arguments"
            guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments">
                <elementProp name="baseUrl" elementType="Argument">
                    <stringProp name="Argument.name">baseUrl</stringProp>
                    <stringProp name="Argument.value">${__P(baseUrl,https://dummyapi.io/data/v1)}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
            </collectionProp>
            <collectionProp name="Arguments.arguments">
                <elementProp name="appId" elementType="Argument">
                    <stringProp name="Argument.name">appId</stringProp>
                    <stringProp name="Argument.value">${__P(appId,REPLACE_WITH_YOUR_APP_ID)}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
            </collectionProp>
            <collectionProp name="Arguments.arguments">
                <elementProp name="test_duration" elementType="Argument">
                    <stringProp name="Argument.name">test_duration</stringProp>
                    <stringProp name="Argument.value">${__P(test_duration,60)}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
            </collectionProp>
            <collectionProp name="Arguments.arguments">
                <elementProp name="num_threads" elementType="Argument">
                    <stringProp name="Argument.name">num_threads</stringProp>
                    <stringProp name="Argument.value">${__P(num_threads,30)}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
            </collectionProp>
            <collectionProp name="Arguments.arguments">
                <elementProp name="ramp_up" elementType="Argument">
                    <stringProp name="Argument.name">ramp_up</stringProp>
                    <stringProp name="Argument.value">${__P(ramp_up,10)}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
            </collectionProp>
            <collectionProp name="Arguments.arguments">
                <elementProp name="testdata" elementType="Argument">
                    <stringProp name="Argument.name">testdata</stringProp>
                    <stringProp name="Argument.value">
                        ${__P(testdata,performance-tests/testdata/jmeter-users.csv)}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
            </collectionProp>
            <collectionProp name="Arguments.arguments">
                <elementProp name="jtl_out" elementType="Argument">
                    <stringProp name="Argument.name">jtl_out</stringProp>
                    <stringProp name="Argument.value">
                        ${__P(jtl_out,performance-tests/reports/load_smoke.jtl)}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
            </collectionProp>
        </elementProp>
        <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="Thread Group"
            enabled="true">
            <CSVDataSet guiclass="TestBeanGUI" testclass="CSVDataSet" testname="CSV Data Set Config"
                enabled="true">
                <stringProp name="filename">${__P(testdata)}</stringProp>
                <stringProp name="variableNames">userId</stringProp>
                <stringProp name="delimiter">,</stringProp>
                <boolProp name="recycle">true</boolProp>
                <boolProp name="stopThread">false</boolProp>
            </CSVDataSet>
            <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager"
                testname="HTTP Header Manager" enabled="true">
                <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                        <stringProp name="Header.name">app-id</stringProp>
                        <stringProp name="Header.value">${__P(appId)}</stringProp>
                    </elementProp>
                </collectionProp>
            </HeaderManager>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy"
                testname="GET posts collection" enabled="true">
                <stringProp name="HTTPSampler.path">${__P(baseUrl)}/post?limit=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
            </HTTPSamplerProxy>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy"
                testname="GET user by id" enabled="true">
                <stringProp name="HTTPSampler.path">${__P(baseUrl)}/user/${userId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
            </HTTPSamplerProxy>
            <ResultCollector guiclass="SimpleDataWriter" testclass="ResultCollector"
                testname="Simple Data Writer" enabled="true">
                <stringProp name="filename">${__P(jtl_out)}</stringProp>
            </ResultCollector>
        </ThreadGroup>
    </TestPlan>
</jmeterTestPlan>